<script>
document.addEventListener("DOMContentLoaded", () => {
  const session = localStorage.getItem("sessionActive");
  const raw = localStorage.getItem("patientProfile");

  if(session !== "true") {
    window.location.replace("login.html");
    return;
  }

  if(!raw){
    window.location.replace("signup.html");
    return;
  }

  const p = JSON.parse(raw);

  document.getElementById("fullName").textContent = p.fullName;
  document.getElementById("age").textContent = p.age + " ans";
  document.getElementById("province").textContent = p.province;
  document.getElementById("patientId").textContent = p.patientId;
});

function logout(){
  localStorage.removeItem("sessionActive");
  window.location.replace("index.html");
}
</script>
